(this.webpackJsonprecipes=this.webpackJsonprecipes||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);n(77);var r,c,a,i,s,l,o=n(0),u=n(31),p=n.n(u),j=n(76),d=n(9),h=n(21),b=n(18),f=n(27),O=n.n(f),m=n(32),x=n(22),g=n(139),v=n(140),y=n(141),w=n(19),C=n(68),N=n.n(C),k=function(e){var t=e.recipes,n=e.filters,r=n.recipeTypeQuery,c=n.recipeNameQuery;return t.filter((function(e){var t=[];return r&&t.push(e.type===r),c&&t.push(-1!==e.name.toLowerCase().search(c.toLowerCase())),t.every(Boolean)}))},T=n(46),R=function(e){return e.map((function(e){return e.type})).reduce((function(e,t){return e.includes(t)||e.push(t),e}),[])},S=function(e){var t=e.recipes,n=e.filters,r=e.currentValue,c=R(t),a=R(k({recipes:t,filters:Object(T.a)(Object(T.a)({},n),{},{recipeTypeQuery:null})}));return c.sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{value:e,active:e===r,disabled:!a.includes(e)}}))},$=function(e){return e.map((function(e,t){var n=e.gsx$name,r=e.gsx$type,c=e.gsx$link,a=e.gsx$notes;return{id:t,name:n.$t,type:r.$t,link:c.$t,notes:a.$t||null}}))},z=function(e){return e.sort((function(e,t){return e.name.localeCompare(t.name)}))},Q=N.a.create({baseURL:"https://spreadsheets.google.com/feeds/"}),E=function(){var e=arguments;return Object(m.a)(O.a.mark((function t(){var n,r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"106-nwBqrxeCGMSY0ZOUAjRvlbL2b2xAJgPy67M_Btc8",r=e.length>1&&void 0!==e[1]?e[1]:1,t.prev=2,t.next=5,Q.get("/list/".concat(n,"/").concat(r,"/public/values?alt=json"));case 5:return c=t.sent,t.abrupt("return",$(c.data.feed.entry));case 9:throw t.prev=9,t.t0=t.catch(2),new Error("Error fetching recipes");case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},L=n(3),A=function(e){var t=e.count;return Object(L.jsxs)("small",{role:"alert","aria-live":"polite",className:"text-muted font-italic",children:[t," ",1===t?"recipe":"recipes"]})},B=n(69),J=n.n(B),M=n(134),U=n(135),V=n(73),_=w.a.div(r||(r=Object(b.a)(["\n  margin-bottom: 12px;\n"]))),q=w.a.h2(c||(c=Object(b.a)(["\n  font-size: 1.5rem;\n  margin-bottom: 12px;\n"]))),F=Object(w.a)(V.a)(a||(a=Object(b.a)(["\n  @media (max-width: 576px) {\n    display: block;\n  }\n"]))),G=w.a.p.attrs({className:"text-muted"})(i||(i=Object(b.a)(["\n  margin-top: 8px;\n  margin-bottom: 0;\n  font-size: 0.95rem;\n  font-style: italic;\n"]))),H=function(e){var t=e.name,n=e.type,r=e.link,c=e.notes,a=e.nameQuery,i=e.shouldShowType;return Object(L.jsx)(_,{children:Object(L.jsx)(M.a,{children:Object(L.jsxs)(U.a,{children:[Object(L.jsxs)(q,{children:[Object(L.jsx)(J.a,{"data-testid":"recipe-name",highlightClassName:"highlight-word-search",searchWords:[a||""],textToHighlight:t}),i&&Object(L.jsxs)("small",{className:"text-muted",children:[" (",n,")"]})]}),Object(L.jsx)(F,{"aria-label":"Recipe for ".concat(t),color:"primary",href:r,target:"_blank",rel:"noopener noreferrer",children:"Recipe"}),c&&Object(L.jsxs)(G,{children:['"',c,'"']})]})})})},I=n(136),P=n(143),W=n(144),Y=n(142),Z=n(137),D=n(138),K=n(145),X=w.a.span(s||(s=Object(b.a)(["\n  float: right;\n  font-size: 1.5rem;\n  font-weight: 700;\n  line-height: 1;\n  text-shadow: 0 1px 0 #fff;\n  opacity: 0.5;\n"]))),ee=function(e){var t=e.recipeType,n=e.recipeTypeOptions,r=e.handleRecipeTypeChange,c=e.recipeName,a=e.handleRecipeNameChange,i=e.handleClear,s=t||"All",l=Object(o.useState)(!1),u=Object(x.a)(l,2),p=u[0],j=u[1];return Object(L.jsxs)(I.a,{children:[Object(L.jsxs)(P.a,{addonType:"prepend",isOpen:p,toggle:function(){return j(!p)},children:[Object(L.jsx)(W.a,{"aria-label":"filter recipe type ".concat(s),color:"primary",outline:!0,caret:!0,children:s}),Object(L.jsxs)(Y.a,{children:[Object(L.jsx)(Z.a,{active:null===t,onClick:function(){return r(void 0)},children:"All"}),n.map((function(e){var t=e.value,n=e.active,c=e.disabled;return Object(L.jsx)(Z.a,{active:n,disabled:c,onClick:function(){return r(t)},children:t},t)}))]})]}),Object(L.jsx)(D.a,{placeholder:"search recipe names",className:"text-center",value:c||"",onChange:function(e){return a(e.currentTarget.value)},spellCheck:!1}),Object(L.jsx)(K.a,{addonType:"append",children:Object(L.jsx)(V.a,{"aria-label":"clear filter and search",color:"primary",outline:!0,onClick:i,children:Object(L.jsx)(X,{"aria-hidden":"true",children:"\xd7"})})})]})},te=w.a.div(l||(l=Object(b.a)(["\n  margin-bottom: 16px;\n"]))),ne=function(){var e=Object(h.c)("spreadsheet",h.b),t=Object(x.a)(e,1)[0],n=Object(o.useState)(!0),r=Object(x.a)(n,2),c=r[0],a=r[1],i=Object(o.useState)(null),s=Object(x.a)(i,2),l=s[0],u=s[1],p=Object(o.useState)([]),j=Object(x.a)(p,2),d=j[0],b=j[1],f=Object(h.c)("type",h.b),w=Object(x.a)(f,2),C=w[0],N=w[1],T=Object(h.c)("name",h.b),R=Object(x.a)(T,2),$=R[0],Q=R[1],B={recipeTypeQuery:C,recipeNameQuery:$},J=S({recipes:d,filters:B,currentValue:C}),M=k({recipes:d,filters:B});return Object(o.useEffect)((function(){(function(){var e=Object(m.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(null),a(!0),e.prev=2,e.next=5,E(t);case 5:n=e.sent,b(z(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),u(e.t0);case 12:a(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(L.jsx)(g.a,{children:Object(L.jsx)(v.a,{children:Object(L.jsxs)(y.a,{xs:{size:12,offset:0},sm:{size:10,offset:1},md:{size:12,offset:0},lg:{size:8,offset:2},className:"text-center",children:[Object(L.jsx)("h1",{className:"mt-3",children:"Recipes"}),c?Object(L.jsx)("p",{className:"text-muted",children:"Loading recipes..."}):l?Object(L.jsx)("p",{className:"text-danger",children:"Error loading recipes!"}):d.length?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(te,{children:[Object(L.jsx)(ee,{recipeType:C,recipeTypeOptions:J,handleRecipeTypeChange:N,recipeName:$,handleRecipeNameChange:function(e){Q(e||void 0)},handleClear:function(){N(void 0),Q(void 0)}}),Object(L.jsx)(A,{count:M.length})]}),M.length?M.map((function(e){var t=e.id,n=e.name,r=e.type,c=e.link,a=e.notes;return Object(L.jsx)(H,{name:n,type:r,link:c,notes:a,nameQuery:$,shouldShowType:!C},t)})):Object(L.jsxs)("p",{children:["No ",Object(L.jsx)("strong",{children:C})," recipes matching"," ",Object(L.jsxs)("strong",{children:[$,"."]})]})]}):Object(L.jsx)("p",{role:"alert","aria-live":"assertive",children:"No recipes."})]})})})},re=function(){return Object(L.jsx)(j.a,{children:Object(L.jsx)(h.a,{ReactRouterRoute:d.a,children:Object(L.jsx)(ne,{})})})};n(132);p.a.render(Object(L.jsx)(o.StrictMode,{children:Object(L.jsx)(re,{})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.f1813ad1.chunk.js.map